<div class="flex flex-col items-center w-full max-w-md mx-auto space-y-4 p-4">
  <!-- Main Issue List Card -->
  <div class="bg-white rounded-xl shadow-lg text-center w-full p-4">
    <h2 class="text-xl font-bold mb-4">ISSUE LIST</h2>

    <!-- Create Issue Form -->
    @if (showInput) {
      <form class="mt-4 p-2 bg-gray-50 rounded-lg">
        <textarea [(ngModel)]="newIssueTitle"
                  name="issueTitle"
                  placeholder="Enter your issue"
                  class="border p-2 rounded w-full h-24 mb-2">
        </textarea>

        <button type="button"
                (click)="submitNewIssue()"
                class="px-4 py-1 bg-blue-600 text-white rounded hover:bg-blue-700">
          Confirm
        </button>
      </form>
    }

    <!-- Action Buttons -->
    <ul class="flex flex-row gap-5 justify-center mt-6 pt-4 border-t">
      <li class="flex items-center justify-center gap-2 cursor-pointer hover:opacity-80"
          (click)="createIssue()">
        <span class="text-blue-600">‚ûï</span> Create
      </li>
    </ul>
  </div>

  <!-- Individual Issue Cards -->
  @for (issue of filteredIssues; track issue.id) {
    <div class="bg-white text-black p-4 rounded-xl shadow-lg w-full text-left">
      {{ issue.title }}

      <!-- Move Issue Options -->
      @if (moveInput && selectedIssueId === issue.id) {
        <div class="mt-4 p-4 bg-gray-50 rounded-lg">
          <h3 class="text-lg font-semibold mb-2">Moving to...</h3>
          <select [(ngModel)]="issueStatus"
                  name="issueStatus"
                  class="border p-2 rounded w-full mb-2">
            <option value="">Select status</option>
            <option value="todo">Todo</option>
            <option value="in-progress">In Progress</option>
            <option value="done">Done</option>
          </select>
          <button (click)="confirmMoveIssue()"
                  class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
            Confirm
          </button>
        </div>
      }

      <!-- Action Buttons -->
      <ul class="flex flex-row gap-5 justify-center mt-6 pt-4 border-t">
        <li class="flex items-center justify-center gap-2 cursor-pointer hover:opacity-80"
            (click)="moveIssue(issue.id)">
          <span class="text-orange-600">‚û°Ô∏è</span> Move
        </li>

        <li class="flex items-center justify-center gap-2 cursor-pointer hover:opacity-80">
          <span class="text-green-600">üìã</span> List
        </li>

        <li class="flex items-center justify-center gap-2 cursor-pointer hover:opacity-80"
            (click)="assignIssue(issue.id)">
          <span class="text-green-600">üë§</span> Assign
        </li>
      </ul>
    </div>
  }
</div>
